



<!DOCTYPE html>
<html class="ui-indigo with-top-bar " lang="en">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="width=device-width, initial-scale=1" name="viewport">
<title>Inconsistent indexer behavior when parsing invalid xml (#287) · Issues · effyis / effyis · GitLab</title>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
window.gon={};gon.features={"preserveUnchangedMarkdown":false,"issuesGridView":false,"serviceDeskTicket":false,"issuesListDrawer":false,"linkedWorkItems":true,"workItems":true,"workItemsMvc":false,"workItemsMvc2":false,"epicWidgetEditConfirmation":false,"movedMrSidebar":true,"notificationsTodosButtons":false};gon.licensed_features={"escalationPolicies":false};
//]]>
</script>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
window.uploads_path = "/effyis/effyis/uploads";



//]]>
</script>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
var gl = window.gl || {};
gl.startup_calls = {"/effyis/effyis/-/issues/287/related_branches":{},"/effyis/effyis/-/issues/287/discussions.json?per_page=20":{},"/effyis/effyis/-/issues/287.json?serializer=sidebar_extras":{}};
gl.startup_graphql_calls = [{"query":"query getDesignList($fullPath: ID!, $iid: String!, $atVersion: DesignManagementVersionID) {\n  project(fullPath: $fullPath) {\n    __typename\n    id\n    issue(iid: $iid) {\n      __typename\n      id\n      designCollection {\n        __typename\n        copyState\n        designs(atVersion: $atVersion) {\n          __typename\n          nodes {\n            __typename\n            id\n            event\n            filename\n            notesCount\n            image\n            imageV432x230\n            currentUserTodos(state: pending) {\n              __typename\n              nodes {\n                __typename\n                id\n              }\n            }\n          }\n        }\n        versions {\n          __typename\n          nodes {\n            __typename\n            id\n            sha\n            createdAt\n            author {\n              __typename\n              id\n              name\n              avatarUrl\n            }\n          }\n        }\n      }\n    }\n  }\n}\n","variables":{"fullPath":"effyis/effyis","iid":"287","atVersion":null}},{"query":"query permissions($fullPath: ID!, $iid: String!) {\n  project(fullPath: $fullPath) {\n    __typename\n    id\n    issue(iid: $iid) {\n      __typename\n      id\n      userPermissions {\n        __typename\n        createDesign\n      }\n    }\n  }\n}\n","variables":{"fullPath":"effyis/effyis","iid":"287"}}];

if (gl.startup_calls && window.fetch) {
  Object.keys(gl.startup_calls).forEach(apiCall => {
   gl.startup_calls[apiCall] = {
      fetchCall: fetch(apiCall, {
        // Emulate XHR for Rails AJAX request checks
        headers: {
          'X-Requested-With': 'XMLHttpRequest'
        },
        // fetch won’t send cookies in older browsers, unless you set the credentials init option.
        // We set to `same-origin` which is default value in modern browsers.
        // See https://github.com/whatwg/fetch/pull/585 for more information.
        credentials: 'same-origin'
      })
    };
  });
}
if (gl.startup_graphql_calls && window.fetch) {
  const headers = {"X-CSRF-Token":"4KPgHjzhb9L58KGQPIhyRBCXErlODxI4hS71rH6wLMtrZH7a0RgRbc38ZAuIaI0gu8jwitOlPGpfl7_uZ7ymMA","x-gitlab-feature-category":"team_planning"};
  const url = `https://gitlab.com/api/graphql`

  const opts = {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      ...headers,
    }
  };

  gl.startup_graphql_calls = gl.startup_graphql_calls.map(call => ({
    ...call,
    fetchCall: fetch(url, {
      ...opts,
      credentials: 'same-origin',
      body: JSON.stringify(call)
    })
  }))
}


//]]>
</script>


<link rel="stylesheet" href="/assets/themes/theme_indigo-033c3ad4fc2f839268fffe2f37bd3356b45695d00c8f2ca8b00f42ab879df47f.css" />

<link rel="stylesheet" href="/assets/application-60d9c901b55d062fd1a9fc9917a69fdfb2ad71f007c41275f9cb2728b7b434a0.css" media="all" />
<link rel="stylesheet" href="/assets/page_bundles/design_management-3831e489dbd947bd96ef46f3ed8a30c5fb9a234a9d0ca2c04541ca53a154a078.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/incidents-9db781995afc8e17555007fe763053175c22b37b2e5c638024c5a654ecdb735a.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/issuable-102cb27d3c17d0ee26212de30e1018618091bc52d8db6142484f3324cda012d8.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/issues_show-7256fbacadfebbd56f292b0311e83a06d86be9241841cdbc085ab96a278acb90.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/work_items-ba406702297750bc0ef965fd53605b660298a39534bfee21d2f1d4fee5e2e68a.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/labels-34a67e013cd03f6454d50eb3f7cce5082d29ab33da14353000ac27ad7c41c82c.css" media="all" /><link rel="stylesheet" href="/assets/page_bundles/promotions-b6bf547443676f5074fd6516350c32c1be46bc78f69d3a501f35fa73dd7200bf.css" media="all" />
<link rel="stylesheet" href="/assets/application_utilities-5b18d25bd9188b4a8231dee759c0fbb7303be6300db1ee23fab67f1ae58a9a78.css" media="all" />


<link rel="stylesheet" href="/assets/fonts-115c4704cb8c77e2fdf3fd0243eebf164e2e9b54bbab7bf6a4c14868b865ddf8.css" media="all" />
<link rel="stylesheet" href="/assets/highlight/themes/white-96f127bcbdab3caa86a6cc73183496a2fa61f5fdac1f3b410eaf990adbc6ea3b.css" media="all" />

<script src="/assets/webpack/runtime.d3a6f728.bundle.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/main.0f7c3e93.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/tracker.da7b2161.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/analytics.ea91e4a6.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
window.snowplowOptions = {"namespace":"gl","hostname":"snowplow.trx.gitlab.net","cookieDomain":".gitlab.com","appId":"gitlab","formTracking":true,"linkClickTracking":true}

gl = window.gl || {};
gl.snowplowStandardContext = {"schema":"iglu:com.gitlab/gitlab_standard/jsonschema/1-0-9","data":{"environment":"production","source":"gitlab-rails","plan":"free","extra":{"new_nav":true},"user_id":2801001,"is_gitlab_team_member":false,"namespace_id":1843810,"project_id":3858611,"context_generated_at":"2023-12-06T10:56:37.048Z"}}
gl.snowplowPseudonymizedPageUrl = "https://gitlab.com/namespace1843810/project3858611/-/issues/287";


//]]>
</script>
<link rel="preload" href="/assets/application_utilities-5b18d25bd9188b4a8231dee759c0fbb7303be6300db1ee23fab67f1ae58a9a78.css" as="style" type="text/css" nonce="I8yTbxi7YleqOm8akhU8iQ==">
<link rel="preload" href="/assets/application-60d9c901b55d062fd1a9fc9917a69fdfb2ad71f007c41275f9cb2728b7b434a0.css" as="style" type="text/css" nonce="I8yTbxi7YleqOm8akhU8iQ==">
<link rel="preload" href="/assets/highlight/themes/white-96f127bcbdab3caa86a6cc73183496a2fa61f5fdac1f3b410eaf990adbc6ea3b.css" as="style" type="text/css" nonce="I8yTbxi7YleqOm8akhU8iQ==">
<link crossorigin="" href="https://snowplow.trx.gitlab.net" rel="preconnect">
<link as="font" crossorigin="" href="/assets/gitlab-sans/GitLabSans-1e0a5107ea3bbd4be93e8ad2c503467e43166cd37e4293570b490e0812ede98b.woff2" rel="preload">
<link as="font" crossorigin="" href="/assets/gitlab-sans/GitLabSans-Italic-38eaf1a569a54ab28c58b92a4a8de3afb96b6ebc250cf372003a7b38151848cc.woff2" rel="preload">
<link as="font" crossorigin="" href="/assets/gitlab-mono/GitLabMono-08d2c5e8ff8fd3d2d6ec55bc7713380f8981c35f9d2df14e12b835464d6e8f23.woff2" rel="preload">
<link as="font" crossorigin="" href="/assets/gitlab-mono/GitLabMono-Italic-38e58d8df29485a20c550da1d0111e2c2169f6dcbcf894f2cd3afbdd97bcc588.woff2" rel="preload">
<link rel="preload" href="/assets/fonts-115c4704cb8c77e2fdf3fd0243eebf164e2e9b54bbab7bf6a4c14868b865ddf8.css" as="style" type="text/css" nonce="I8yTbxi7YleqOm8akhU8iQ==">



<script src="/assets/webpack/sentry.7990e11a.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>


<script src="/assets/webpack/commons-pages.projects.learn_gitlab.show-pages.search.show-super_sidebar.0ab3527a.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/super_sidebar.5705522b.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.groups.boards-pages.groups.details-pages.groups.epic_boards-pages.groups.show-pages.gr-c65ce8d6.42fddd05.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-initGFMInput-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-p-33ba7926.63d4d3a7.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.e-83f70121.3c61dab6.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.runners.show-pages.clusters.agents.dashboard-pages.explore.catalog-pages.groups.-6b038e88.9eaa870f.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.e-b6acdccb.dd3a3db0.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.e-9d37460c.8b2c8f64.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.e-0f513335.bb0a3602.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.e-3e7fe578.30ba5a56.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.epics.show-pages.groups.mileston-c3aa91e1.e1925dc9.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/14.bea6469a.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/15.b791adcb.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.dashboard.issues-pages.groups.epics.index-pages.groups.issues-pages.groups.merge_reque-5c7673f6.aebcec15.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.admin.abuse_reports.show-pages.dashboard.issues-pages.groups.boards-pages.groups.epic_-afafa28a.e661884b.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.groups.epics.show-pages.groups.milestones.edit-pages.groups.milestones.new-pages.group-a3d00e43.6f4156a5.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/21.7f9e736d.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/22.a966b299.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.groups.epics.new-pages.groups.epics.show-pages.groups.merge_requests-pages.groups.road-9c37bf0c.c51d80d1.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/commons-pages.dashboard.issues-pages.groups.boards-pages.groups.epic_boards-pages.groups.epics.show--de6ce5cf.4c36a287.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<script src="/assets/webpack/pages.projects.issues.show.5719e747.chunk.js" defer="defer" nonce="E21l1145DlYnW06i4H8l5Q=="></script>
<meta content="object" property="og:type">
<meta content="GitLab" property="og:site_name">
<meta content="Inconsistent indexer behavior when parsing invalid xml (#287) · Issues · effyis / effyis · GitLab" property="og:title">
<meta content="Hello Problem description We use the following command  xmlpipe_command =..." property="og:description">
<meta content="https://gitlab.com/assets/twitter_card-570ddb06edf56a2312253c5872489847a0f385112ddbcd71ccfa1570febab5d2.jpg" property="og:image">
<meta content="64" property="og:image:width">
<meta content="64" property="og:image:height">
<meta content="https://gitlab.com/effyis/effyis/-/issues/287" property="og:url">
<meta content="summary" property="twitter:card">
<meta content="Inconsistent indexer behavior when parsing invalid xml (#287) · Issues · effyis / effyis · GitLab" property="twitter:title">
<meta content="Hello Problem description We use the following command  xmlpipe_command =..." property="twitter:description">
<meta content="https://gitlab.com/assets/twitter_card-570ddb06edf56a2312253c5872489847a0f385112ddbcd71ccfa1570febab5d2.jpg" property="twitter:image">
<meta property="twitter:label1" content="Author"><meta property="twitter:data1" content="Julia Emelyanova">
<meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="6Mjoz1d7XNE6qSjIaKk99Qbj9QlWXacZXXxW_8137kJjD3YLuoIibg6l7VPcScKRrbwXOsv3iUuHxRy91HtkuQ" />
<meta name="csp-nonce" content="E21l1145DlYnW06i4H8l5Q==" />
<meta name="action-cable-url" content="/-/cable" />
<link href="/-/manifest.json" rel="manifest">
<link rel="icon" type="image/png" href="/assets/favicon-72a2cad5025aa931d6ea56c3201d1f18e68a8cd39788c7c80d5b2b82aa5143ef.png" id="favicon" data-original-href="/assets/favicon-72a2cad5025aa931d6ea56c3201d1f18e68a8cd39788c7c80d5b2b82aa5143ef.png" />
<link rel="apple-touch-icon" type="image/x-icon" href="/assets/apple-touch-icon-b049d4bc0dd9626f31db825d61880737befc7835982586d015bded10b4435460.png" />
<link href="/search/opensearch.xml" rel="search" title="Search GitLab" type="application/opensearchdescription+xml">




<meta content="Hello Problem description We use the following command  xmlpipe_command =..." name="description">
<meta content="#222261" name="theme-color">
</head>

<body class="tab-width-8 gl-browser-generic gl-platform-other" data-find-file="/effyis/effyis/-/find_file/master" data-group="effyis" data-group-full-path="effyis" data-namespace-id="1843810" data-page="projects:issues:show" data-page-type-id="287" data-project="effyis" data-project-id="3858611">
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
gl = window.gl || {};
gl.GfmAutoComplete = gl.GfmAutoComplete || {};
gl.GfmAutoComplete.dataSources = {"members":"/effyis/effyis/-/autocomplete_sources/members?type=Issue\u0026type_id=287","issues":"/effyis/effyis/-/autocomplete_sources/issues","mergeRequests":"/effyis/effyis/-/autocomplete_sources/merge_requests","labels":"/effyis/effyis/-/autocomplete_sources/labels?type=Issue\u0026type_id=287","milestones":"/effyis/effyis/-/autocomplete_sources/milestones","commands":"/effyis/effyis/-/autocomplete_sources/commands?type=Issue\u0026type_id=287","snippets":"/effyis/effyis/-/autocomplete_sources/snippets","contacts":"/effyis/effyis/-/autocomplete_sources/contacts?type=Issue\u0026type_id=287"};


//]]>
</script>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
gl = window.gl || {};
gl.client = {"isGeneric":true,"isOther":true};


//]]>
</script>



<div class="layout-page page-gutter right-sidebar-expanded page-with-super-sidebar">
<aside class="js-super-sidebar super-sidebar super-sidebar-loading" data-command-palette="{&quot;project_files_url&quot;:&quot;/effyis/effyis/-/files/master?format=json&quot;,&quot;project_blob_url&quot;:&quot;/effyis/effyis/-/blob/master&quot;}" data-force-desktop-expanded-sidebar="" data-root-path="/" data-sidebar="{&quot;is_logged_in&quot;:true,&quot;context_switcher_links&quot;:[{&quot;title&quot;:&quot;Your work&quot;,&quot;link&quot;:&quot;/&quot;,&quot;icon&quot;:&quot;work&quot;},{&quot;title&quot;:&quot;Explore&quot;,&quot;link&quot;:&quot;/explore&quot;,&quot;icon&quot;:&quot;compass&quot;},{&quot;title&quot;:&quot;Profile&quot;,&quot;link&quot;:&quot;/-/profile&quot;,&quot;icon&quot;:&quot;profile&quot;},{&quot;title&quot;:&quot;Preferences&quot;,&quot;link&quot;:&quot;/-/profile/preferences&quot;,&quot;icon&quot;:&quot;preferences&quot;}],&quot;current_menu_items&quot;:[{&quot;id&quot;:&quot;project_overview&quot;,&quot;title&quot;:&quot;effyis&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:3858611,&quot;link&quot;:&quot;/effyis/effyis&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-project&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;manage_menu&quot;,&quot;title&quot;:&quot;Manage&quot;,&quot;icon&quot;:&quot;users&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/activity&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;activity&quot;,&quot;title&quot;:&quot;Activity&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/activity&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-project-activity&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;members&quot;,&quot;title&quot;:&quot;Members&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/project_members&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;labels&quot;,&quot;title&quot;:&quot;Labels&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/labels&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;plan_menu&quot;,&quot;title&quot;:&quot;Plan&quot;,&quot;icon&quot;:&quot;planning&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/issues&quot;,&quot;is_active&quot;:true,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;project_issue_list&quot;,&quot;title&quot;:&quot;Issues&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/issues&quot;,&quot;pill_count&quot;:&quot;17&quot;,&quot;link_classes&quot;:&quot;shortcuts-issues has-sub-items&quot;,&quot;is_active&quot;:true},{&quot;id&quot;:&quot;boards&quot;,&quot;title&quot;:&quot;Issue boards&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/boards&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-issue-boards&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;milestones&quot;,&quot;title&quot;:&quot;Milestones&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/milestones&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;code_menu&quot;,&quot;title&quot;:&quot;Code&quot;,&quot;icon&quot;:&quot;code&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/tree/master&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;files&quot;,&quot;title&quot;:&quot;Repository&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/tree/master&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-tree&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;branches&quot;,&quot;title&quot;:&quot;Branches&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/branches&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;commits&quot;,&quot;title&quot;:&quot;Commits&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/commits/master?ref_type=heads&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-commits&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;tags&quot;,&quot;title&quot;:&quot;Tags&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/tags&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;graphs&quot;,&quot;title&quot;:&quot;Repository graph&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/network/master?ref_type=heads&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-network&quot;,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;compare&quot;,&quot;title&quot;:&quot;Compare revisions&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/compare?from=master\u0026to=master&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;secure_menu&quot;,&quot;title&quot;:&quot;Secure&quot;,&quot;icon&quot;:&quot;shield&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/audit_events&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;audit_events&quot;,&quot;title&quot;:&quot;Audit events&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/audit_events&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false},{&quot;id&quot;:&quot;configuration&quot;,&quot;title&quot;:&quot;Security configuration&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/security/configuration&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;deploy_menu&quot;,&quot;title&quot;:&quot;Deploy&quot;,&quot;icon&quot;:&quot;deployments&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/releases&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;releases&quot;,&quot;title&quot;:&quot;Releases&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/releases&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:&quot;shortcuts-deployments-releases&quot;,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;monitor_menu&quot;,&quot;title&quot;:&quot;Monitor&quot;,&quot;icon&quot;:&quot;monitor&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/issues/service_desk&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;service_desk&quot;,&quot;title&quot;:&quot;Service Desk&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/issues/service_desk&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false},{&quot;id&quot;:&quot;analyze_menu&quot;,&quot;title&quot;:&quot;Analyze&quot;,&quot;icon&quot;:&quot;chart&quot;,&quot;avatar&quot;:null,&quot;avatar_shape&quot;:&quot;rect&quot;,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/ml/experiments&quot;,&quot;is_active&quot;:false,&quot;pill_count&quot;:null,&quot;items&quot;:[{&quot;id&quot;:&quot;model_experiments&quot;,&quot;title&quot;:&quot;Model experiments&quot;,&quot;icon&quot;:null,&quot;avatar&quot;:null,&quot;entity_id&quot;:null,&quot;link&quot;:&quot;/effyis/effyis/-/ml/experiments&quot;,&quot;pill_count&quot;:null,&quot;link_classes&quot;:null,&quot;is_active&quot;:false}],&quot;separated&quot;:false}],&quot;current_context_header&quot;:&quot;Project&quot;,&quot;support_path&quot;:&quot;https://about.gitlab.com/get-help/&quot;,&quot;display_whats_new&quot;:true,&quot;whats_new_most_recent_release_items_count&quot;:3,&quot;whats_new_version_digest&quot;:&quot;ae8077b3a8781c118c10b869a06fb420228ee4fa00401fbb652cd88adf3b3bd9&quot;,&quot;show_version_check&quot;:false,&quot;gitlab_version&quot;:{&quot;major&quot;:16,&quot;minor&quot;:7,&quot;patch&quot;:0,&quot;suffix_s&quot;:&quot;&quot;},&quot;gitlab_version_check&quot;:null,&quot;search&quot;:{&quot;search_path&quot;:&quot;/search&quot;,&quot;issues_path&quot;:&quot;/dashboard/issues&quot;,&quot;mr_path&quot;:&quot;/dashboard/merge_requests&quot;,&quot;autocomplete_path&quot;:&quot;/search/autocomplete&quot;,&quot;search_context&quot;:{&quot;group&quot;:{&quot;id&quot;:1843810,&quot;name&quot;:&quot;effyis&quot;,&quot;full_name&quot;:&quot;effyis&quot;},&quot;group_metadata&quot;:{&quot;issues_path&quot;:&quot;/groups/effyis/-/issues&quot;,&quot;mr_path&quot;:&quot;/groups/effyis/-/merge_requests&quot;},&quot;project&quot;:{&quot;id&quot;:3858611,&quot;name&quot;:&quot;effyis&quot;},&quot;project_metadata&quot;:{&quot;mr_path&quot;:&quot;/effyis/effyis/-/merge_requests&quot;,&quot;issues_path&quot;:&quot;/effyis/effyis/-/issues&quot;},&quot;code_search&quot;:false,&quot;scope&quot;:&quot;issues&quot;,&quot;for_snippets&quot;:null}},&quot;panel_type&quot;:&quot;project&quot;,&quot;shortcut_links&quot;:[{&quot;title&quot;:&quot;Milestones&quot;,&quot;href&quot;:&quot;/dashboard/milestones&quot;,&quot;css_class&quot;:&quot;dashboard-shortcuts-milestones&quot;},{&quot;title&quot;:&quot;Snippets&quot;,&quot;href&quot;:&quot;/dashboard/snippets&quot;,&quot;css_class&quot;:&quot;dashboard-shortcuts-snippets&quot;},{&quot;title&quot;:&quot;Activity&quot;,&quot;href&quot;:&quot;/dashboard/activity&quot;,&quot;css_class&quot;:&quot;dashboard-shortcuts-activity&quot;},{&quot;title&quot;:&quot;Groups&quot;,&quot;href&quot;:&quot;/dashboard/groups&quot;,&quot;css_class&quot;:&quot;dashboard-shortcuts-groups&quot;},{&quot;title&quot;:&quot;Projects&quot;,&quot;href&quot;:&quot;/dashboard/projects&quot;,&quot;css_class&quot;:&quot;dashboard-shortcuts-projects&quot;},{&quot;title&quot;:&quot;Create a new issue&quot;,&quot;href&quot;:&quot;/effyis/effyis/-/issues/new&quot;,&quot;css_class&quot;:&quot;shortcuts-new-issue&quot;}],&quot;is_admin&quot;:false,&quot;name&quot;:&quot;manticore_bot&quot;,&quot;username&quot;:&quot;manticore_bot&quot;,&quot;admin_url&quot;:&quot;https://gitlab.com/admin&quot;,&quot;avatar_url&quot;:&quot;https://secure.gravatar.com/avatar/e5d8eaba32898b9b901210d0d5a8c383?s=80\u0026d=identicon&quot;,&quot;has_link_to_profile&quot;:true,&quot;link_to_profile&quot;:&quot;/manticore_bot&quot;,&quot;logo_url&quot;:null,&quot;status&quot;:{&quot;can_update&quot;:true,&quot;busy&quot;:null,&quot;customized&quot;:null,&quot;availability&quot;:&quot;&quot;,&quot;emoji&quot;:null,&quot;message_html&quot;:null,&quot;message&quot;:null,&quot;clear_after&quot;:null},&quot;settings&quot;:{&quot;has_settings&quot;:true,&quot;profile_path&quot;:&quot;/-/profile&quot;,&quot;profile_preferences_path&quot;:&quot;/-/profile/preferences&quot;},&quot;user_counts&quot;:{&quot;assigned_issues&quot;:0,&quot;assigned_merge_requests&quot;:0,&quot;review_requested_merge_requests&quot;:0,&quot;todos&quot;:0,&quot;last_update&quot;:1701860197155},&quot;can_sign_out&quot;:true,&quot;sign_out_link&quot;:&quot;/users/sign_out&quot;,&quot;issues_dashboard_path&quot;:&quot;/dashboard/issues?assignee_username=manticore_bot&quot;,&quot;todos_dashboard_path&quot;:&quot;/dashboard/todos&quot;,&quot;create_new_menu_groups&quot;:[{&quot;name&quot;:&quot;In this project&quot;,&quot;items&quot;:[{&quot;text&quot;:&quot;New issue&quot;,&quot;href&quot;:&quot;/effyis/effyis/-/issues/new&quot;,&quot;component&quot;:null,&quot;extraAttrs&quot;:{&quot;data-track-label&quot;:&quot;new_issue&quot;,&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-property&quot;:&quot;nav_create_menu&quot;,&quot;data-testid&quot;:&quot;create_menu_item&quot;,&quot;data-qa-create-menu-item&quot;:&quot;new_issue&quot;}}]},{&quot;name&quot;:&quot;In GitLab&quot;,&quot;items&quot;:[{&quot;text&quot;:&quot;New project/repository&quot;,&quot;href&quot;:&quot;/projects/new&quot;,&quot;component&quot;:null,&quot;extraAttrs&quot;:{&quot;data-track-label&quot;:&quot;general_new_project&quot;,&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-property&quot;:&quot;nav_create_menu&quot;,&quot;data-testid&quot;:&quot;create_menu_item&quot;,&quot;data-qa-create-menu-item&quot;:&quot;general_new_project&quot;}},{&quot;text&quot;:&quot;New group&quot;,&quot;href&quot;:&quot;/groups/new&quot;,&quot;component&quot;:null,&quot;extraAttrs&quot;:{&quot;data-track-label&quot;:&quot;general_new_group&quot;,&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-property&quot;:&quot;nav_create_menu&quot;,&quot;data-testid&quot;:&quot;create_menu_item&quot;,&quot;data-qa-create-menu-item&quot;:&quot;general_new_group&quot;}},{&quot;text&quot;:&quot;New snippet&quot;,&quot;href&quot;:&quot;/-/snippets/new&quot;,&quot;component&quot;:null,&quot;extraAttrs&quot;:{&quot;data-track-label&quot;:&quot;general_new_snippet&quot;,&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-property&quot;:&quot;nav_create_menu&quot;,&quot;data-testid&quot;:&quot;create_menu_item&quot;,&quot;data-qa-create-menu-item&quot;:&quot;general_new_snippet&quot;}}]}],&quot;merge_request_menu&quot;:[{&quot;name&quot;:&quot;Merge requests&quot;,&quot;items&quot;:[{&quot;text&quot;:&quot;Assigned&quot;,&quot;href&quot;:&quot;/dashboard/merge_requests?assignee_username=manticore_bot&quot;,&quot;count&quot;:0,&quot;userCount&quot;:&quot;assigned_merge_requests&quot;,&quot;extraAttrs&quot;:{&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-label&quot;:&quot;merge_requests_assigned&quot;,&quot;data-track-property&quot;:&quot;nav_core_menu&quot;,&quot;class&quot;:&quot;dashboard-shortcuts-merge_requests&quot;}},{&quot;text&quot;:&quot;Review requests&quot;,&quot;href&quot;:&quot;/dashboard/merge_requests?reviewer_username=manticore_bot&quot;,&quot;count&quot;:0,&quot;userCount&quot;:&quot;review_requested_merge_requests&quot;,&quot;extraAttrs&quot;:{&quot;data-track-action&quot;:&quot;click_link&quot;,&quot;data-track-label&quot;:&quot;merge_requests_to_review&quot;,&quot;data-track-property&quot;:&quot;nav_core_menu&quot;,&quot;class&quot;:&quot;dashboard-shortcuts-review_requests&quot;}}]}],&quot;projects_path&quot;:&quot;/dashboard/projects&quot;,&quot;groups_path&quot;:&quot;/dashboard/groups&quot;,&quot;gitlab_com_but_not_canary&quot;:true,&quot;gitlab_com_and_canary&quot;:null,&quot;canary_toggle_com_url&quot;:&quot;https://next.gitlab.com&quot;,&quot;current_context&quot;:{&quot;namespace&quot;:&quot;projects&quot;,&quot;item&quot;:{&quot;id&quot;:3858611,&quot;name&quot;:&quot;effyis&quot;,&quot;namespace&quot;:&quot;effyis / effyis&quot;,&quot;webUrl&quot;:&quot;/effyis/effyis&quot;,&quot;avatarUrl&quot;:null}},&quot;pinned_items&quot;:[&quot;project_issue_list&quot;,&quot;project_merge_request_list&quot;],&quot;update_pins_url&quot;:&quot;/-/users/pins&quot;,&quot;is_impersonating&quot;:false,&quot;stop_impersonation_path&quot;:&quot;/admin/impersonation&quot;,&quot;track_visits_path&quot;:&quot;/-/track_namespace_visits&quot;,&quot;show_tanuki_bot&quot;:false,&quot;trial&quot;:{&quot;has_start_trial&quot;:false,&quot;url&quot;:&quot;/-/trials/new?glm_content=top-right-dropdown\u0026glm_source=gitlab.com&quot;}}"></aside>
<div data-version-digest="ae8077b3a8781c118c10b869a06fb420228ee4fa00401fbb652cd88adf3b3bd9" id="whats-new-app"></div>

<div class="content-wrapper">
<div class="mobile-overlay"></div>

<div class="alert-wrapper gl-force-block-formatting-context">



























<div class="gl-overflow-auto container-fluid container-limited limit-container-width project-highlight-puc">
<div class="gl-alert js-user-over-limit-free-plan-alert gl-mb-2 gl-mt-6 gl-alert-danger gl-alert-not-dismissible gl-alert-has-title" data-testid="user-over-limit-free-plan-alert" data-track-action="render" data-track-label="user_limit_banner" role="alert">
<div class="gl-alert-icon-container">
<svg class="s16 gl-alert-icon" data-testid="error-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#error"></use></svg>
</div>
<div class="gl-alert-content" role="alert">
<h2 class="gl-alert-title">
Your top-level group effyis is over the 5 user limit and has been placed in a read-only state.
</h2>
<div class="gl-alert-body">
To remove the <a href='/help/user/free_user_limit' target='_blank' rel='noopener noreferrer'>read-only</a> state and regain write access, ask your top-level group owner(s) to reduce the number of users in your top-level group to 5 users or less, or to upgrade to a paid tier which do not have user limits.

</div>
</div>
</div>
</div>



<div class="top-bar-fixed container-fluid" data-testid="top-bar">
<div class="top-bar-container gl-display-flex gl-align-items-center gl-gap-2">
<button class="gl-button btn btn-icon btn-md btn-default btn-default-tertiary js-super-sidebar-toggle-expand super-sidebar-toggle gl-ml-n3" aria-controls="super-sidebar" aria-expanded="false" aria-label="Primary navigation sidebar" type="button"><svg class="s16 gl-icon gl-button-icon " data-testid="sidebar-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#sidebar"></use></svg>

</button>
<nav aria-label="Breadcrumbs" class="breadcrumbs" data-testid="breadcrumb-links">
<ul class="list-unstyled breadcrumbs-list js-breadcrumbs-list">
<li><a class="group-path breadcrumb-item-text js-breadcrumb-item-text " href="/effyis">effyis</a><svg class="s8 breadcrumbs-list-angle" data-testid="chevron-lg-right-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-lg-right"></use></svg></li> <li><a href="/effyis/effyis"><span class="breadcrumb-item-text js-breadcrumb-item-text">effyis</span></a><svg class="s8 breadcrumbs-list-angle" data-testid="chevron-lg-right-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-lg-right"></use></svg></li>
<li><a href="/effyis/effyis/-/issues">Issues</a><svg class="s8 breadcrumbs-list-angle" data-testid="chevron-lg-right-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-lg-right"></use></svg></li>

<li data-testid="breadcrumb-current-link">
<a href="/effyis/effyis/-/issues/287">#287</a>
</li>
</ul>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"effyis","item":"https://gitlab.com/effyis"},{"@type":"ListItem","position":2,"name":"effyis","item":"https://gitlab.com/effyis/effyis"},{"@type":"ListItem","position":3,"name":"Issues","item":"https://gitlab.com/effyis/effyis/-/issues"},{"@type":"ListItem","position":4,"name":"#287","item":"https://gitlab.com/effyis/effyis/-/issues/287"}]}

</script>
</nav>



</div>
</div>

</div>
<div class="container-fluid container-limited limit-container-width project-highlight-puc">
<main class="content" id="content-body" itemscope itemtype="http://schema.org/SoftwareSourceCode">
<div class="flash-container flash-container-page sticky" data-qa-selector="flash_container">
<div id="js-global-alerts"></div>
</div>





<div class="issue-details issuable-details js-issue-details">
<div class="detail-page-description content-block js-detail-page-description gl-pt-3 gl-pb-0 gl-border-none">
<div data-header-actions-data="{&quot;can_create_issue&quot;:&quot;true&quot;,&quot;can_create_incident&quot;:&quot;true&quot;,&quot;can_destroy_issue&quot;:&quot;false&quot;,&quot;can_reopen_issue&quot;:&quot;true&quot;,&quot;can_report_spam&quot;:&quot;false&quot;,&quot;can_update_issue&quot;:&quot;true&quot;,&quot;is_issue_author&quot;:&quot;false&quot;,&quot;issue_path&quot;:&quot;/effyis/effyis/-/issues/287&quot;,&quot;new_issue_path&quot;:&quot;/effyis/effyis/-/issues/new?add_related_issue=287&quot;,&quot;project_path&quot;:&quot;effyis/effyis&quot;,&quot;report_abuse_path&quot;:&quot;/-/abuse_reports/add_category&quot;,&quot;reported_user_id&quot;:2097044,&quot;reported_from_url&quot;:&quot;https://gitlab.com/effyis/effyis/-/issues/287&quot;,&quot;submit_as_spam_path&quot;:&quot;/effyis/effyis/-/issues/287/mark_as_spam&quot;,&quot;issuable_email_address&quot;:&quot;incoming+effyis-effyis-3858611-mmsnmd94hewpkuvm2gv62lwo-issue-287@incoming.gitlab.com&quot;,&quot;can_promote_to_epic&quot;:&quot;false&quot;}" data-initial="{&quot;endpoint&quot;:&quot;/effyis/effyis/-/issues/287&quot;,&quot;updateEndpoint&quot;:&quot;/effyis/effyis/-/issues/287.json&quot;,&quot;canUpdate&quot;:true,&quot;canDestroy&quot;:false,&quot;issuableRef&quot;:&quot;#287&quot;,&quot;markdownPreviewPath&quot;:&quot;/effyis/effyis/preview_markdown?target_id=287\u0026target_type=Issue&quot;,&quot;markdownDocsPath&quot;:&quot;/help/user/markdown&quot;,&quot;lockVersion&quot;:10,&quot;issuableTemplateNamesPath&quot;:&quot;/effyis/effyis/description_templates/names/issue&quot;,&quot;initialTitleHtml&quot;:&quot;Inconsistent indexer behavior when parsing invalid xml&quot;,&quot;initialTitleText&quot;:&quot;Inconsistent indexer behavior when parsing invalid xml&quot;,&quot;initialDescriptionHtml&quot;:&quot;\u003cp data-sourcepos=\&quot;1:1-1:9\&quot; dir=\&quot;auto\&quot;\u003eHello\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;3:1-3:27\&quot; dir=\&quot;auto\&quot;\u003e\u003cstrong\u003eProblem description\u003c/strong\u003e\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;5:1-5:34\&quot; dir=\&quot;auto\&quot;\u003eWe use the following command\u003c/p\u003e\u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;7:1-9:7\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003exmlpipe_command = someScriptProducingXml || kill $PPID    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;11:1-11:185\&quot; dir=\&quot;auto\&quot;\u003eSometimes, depending on data, the indexer fails without reporting an error, and because of that we had many problems with indexing and spent a lot of time figuring out what is wrong\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;13:1-13:31\&quot; dir=\&quot;auto\&quot;\u003e\u003cstrong\u003eReproducing the problem\u003c/strong\u003e\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;15:1-15:167\&quot; dir=\&quot;auto\&quot;\u003eWe&#39;ve prepared the following test case (\u003ca href=\&quot;/effyis/effyis/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz\&quot; data-canonical-src=\&quot;/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz\&quot; data-link=\&quot;true\&quot; class=\&quot;gfm\&quot;\u003ematerials attached\u003c/a\u003e)\u003c/p\u003e\u0026#x000A;\u003cdetails\u003e    \u0026#x000A;\t\u003csummary\u003exmlpipe2 source list\u003c/summary\u003e    \u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;21:2-69:4\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_1_1_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC2\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC3\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC4\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat simple_good    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC5\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC6\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC7\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_1_2_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC8\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC9\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC10\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat simple_good || kill $PPID    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC11\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC12\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC13\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_2_1_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC14\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC15\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC16\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat simple_bad    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC17\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC18\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC19\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_2_2_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC20\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC21\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC22\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat simple_bad || kill $PPID    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC23\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC24\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC25\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_3_1_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC26\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC27\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC28\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat 779    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC29\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC30\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC31\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_3_2_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC32\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC33\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC34\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat 779 || kill $PPID    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC35\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC36\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC37\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_4_1_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC38\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC39\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC40\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat 778_779_780    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC41\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC42\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC43\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esource test_4_2_source    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC44\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e{    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC45\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\ttype = xmlpipe2    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC46\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\txmlpipe_command = cat 778_779_780 || kill $PPID    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC47\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e}    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003c/details\u003e    \u0026#x000A;\u003cp data-sourcepos=\&quot;72:1-73:36\&quot; dir=\&quot;auto\&quot;\u003eTests \u003ccode\u003e*_1\u003c/code\u003e and \u003ccode\u003e*_2\u003c/code\u003e has the same XML, but\u003cbr\u003e\u0026#x000A;each test with number \u003ccode\u003e*_1\u003c/code\u003e has\u003c/p\u003e\u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;75:1-80:4\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003emlpipe_command = cat XML`    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC2\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC3\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eand  test with number `*_2` has     \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC4\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;81:1-81:50\&quot; dir=\&quot;auto\&quot;\u003emlpipe_command = cat XML  || kill $PPID`   \u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;83:1-84:33\&quot; dir=\&quot;auto\&quot;\u003e \u003cbr\u003e\u0026#x000A;\u003cstrong\u003eDescription of test cases\u003c/strong\u003e\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;86:1-86:56\&quot; dir=\&quot;auto\&quot;\u003e\u003cem\u003ePlease note, incorrect behavior starts at Test 4_1\u003c/em\u003e\u003c/p\u003e\u0026#x000A;\u003cdetails\u003e    \u0026#x000A;   \u003csummary\u003eIndexer output\u003c/summary\u003e    \u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;91:5-200:23\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e    [julia@dev01 xml]$ for testNum in {1..4}; do for opt in {1..2}; do echo \&quot;----- TEST ${testNum}_${opt} -----\&quot;; sudo indexer --config sphinx.conf test_${testNum}_${opt}; done; done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC2\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 1_1 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC3\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC4\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC5\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC6\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC7\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC8\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC9\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_1_1&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC10\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecollected 1 docs, 0.0 MB    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC11\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating lookup: 0.0 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC12\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating histograms: 0.0 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC13\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esorted 0.0 Mhits, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC14\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 1 docs, 3 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC15\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.109 sec, 27 bytes/sec, 9.12 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC16\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC17\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC18\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 1_2 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC19\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC20\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC21\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC22\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC23\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC24\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC25\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_1_2&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC26\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecollected 1 docs, 0.0 MB    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC27\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating lookup: 0.0 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC28\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating histograms: 0.0 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC29\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esorted 0.0 Mhits, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC30\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 1 docs, 3 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC31\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.109 sec, 27 bytes/sec, 9.09 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC32\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC33\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC34\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 2_1 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC35\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC36\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC37\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC38\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC39\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC40\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC41\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_2_1&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC42\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eERROR: index &#39;test_2_1&#39;: source &#39;test_2_1_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC43\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 docs, 0 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC44\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC45\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC46\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC47\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 2_2 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC48\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC49\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC50\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC51\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC52\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC53\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC54\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_2_2&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC55\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eERROR: index &#39;test_2_2&#39;: source &#39;test_2_2_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC56\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 docs, 0 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC57\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC58\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC59\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC60\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 3_1 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC61\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC62\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC63\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC64\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC65\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC66\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC67\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_3_1&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC68\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eERROR: index &#39;test_3_1&#39;: source &#39;test_3_1_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC69\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 docs, 0 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC70\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.011 sec, 0 bytes/sec, 0.00 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC71\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC72\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC73\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 3_2 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC74\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC75\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC76\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC77\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC78\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC79\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC80\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_3_2&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC81\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eERROR: index &#39;test_3_2&#39;: source &#39;test_3_2_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC82\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0 docs, 0 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC83\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.012 sec, 0 bytes/sec, 0.00 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC84\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eTerminated    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC85\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 4_1 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC86\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC87\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC88\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC89\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC90\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC91\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC92\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_4_1&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC93\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecollected 342 docs, 1.2 MB    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC94\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating lookup: 0.3 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC95\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003ecreating histograms: 0.3 Kdocs, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC96\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003esorted 0.1 Mhits, 100.0% done    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC97\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 342 docs, 1227138 bytes    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC98\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 0.233 sec, 5265534 bytes/sec, 1467.48 docs/sec    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC99\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 4 reads, 0.000 sec, 293.0 kb/call avg, 0.1 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC100\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003etotal 15 writes, 0.001 sec, 132.0 kb/call avg, 0.1 msec/call avg    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC101\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e----- TEST 4_2 -----    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC102\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eManticore 3.5.5 29d2fad@210212 release    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC103\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2001-2016, Andrew Aksyonoff    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC104\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC105\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC106\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e\u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC107\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eusing config file &#39;sphinx.conf&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC108\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eindexing index &#39;test_4_2&#39;...    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC109\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003eTerminated    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC110\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e[julia@dev01 xml]$    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003c/details\u003e    \u0026#x000A;\u003cp data-sourcepos=\&quot;204:1-204:169\&quot; dir=\&quot;auto\&quot;\u003eOK - Tests 1_1 and 1_2 demonstrate, that we&#39;re not doing anything illegal and commands with or without \u003ccode\u003e|| kill $PPID\u003c/code\u003e produce valid indexes without failing indexer\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;206:1-206:91\&quot; dir=\&quot;auto\&quot;\u003eOK - Tests 2_1 and 2_2 provide simple incorrect XML and we can see an error reported \u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;208:1-208:231\&quot; dir=\&quot;auto\&quot;\u003eOK - Tests 3_1 and 3_2 contain a \u003cem\u003epart of\u003c/em\u003e our production XML. XML includes \&quot;Unescaped \u0026amp; or nonterminated character/entity reference\&quot; in line 6900, document id 65212023329329888. Here we can also see an error message reported\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;210:1-210:186\&quot; dir=\&quot;auto\&quot;\u003eNOT OK - Test 4_1 has the same incorrect document, as Tests 3_1  and 3_2, plus some other documents. But there is no error reported - the index is successfully built. Is it really?\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;212:1-212:17\&quot; dir=\&quot;auto\&quot;\u003eIndexer says\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;214:1-214:30\&quot; dir=\&quot;auto\&quot;\u003ecollected 342 docs, 1.2 MB\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;216:1-216:36\&quot; dir=\&quot;auto\&quot;\u003eBut we have 801 docs in the file\u003c/p\u003e\u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;218:1-221:7\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e[julia@dev01 xml]$ cat 778_779_780 | grep &#39;sphinx:document id&#39; | wc -l    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC2\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e801    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;223:1-223:69\&quot; dir=\&quot;auto\&quot;\u003eI assume, indexing stops after stepping on an incorrect document.\u003c/p\u003e\u0026#x000A;\u003cdiv class=\&quot;gl-relative markdown-code-block js-markdown-code\&quot;\u003e\u0026#x000A;\u003cpre data-sourcepos=\&quot;225:1-239:7\&quot; class=\&quot;code highlight js-syntax-highlight language-plaintext\&quot; lang=\&quot;plaintext\&quot; v-pre=\&quot;true\&quot;\u003e\u003ccode\u003e\u003cspan id=\&quot;LC1\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003emysql\u0026gt; select count(*) from test_4_1;    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC2\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC3\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e| count(*) |    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC4\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC5\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e|      342 |    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC6\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC7\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003emysql\u0026gt; select count(*) from test_4_1 where  id IN (65212023329329888, 14335444326029372, 910882893018043);    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC8\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC9\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e| count(*) |    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC10\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC11\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e|        0 |    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC12\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e+----------+    \u003c/span\u003e\u0026#x000A;\u003cspan id=\&quot;LC13\&quot; class=\&quot;line\&quot; lang=\&quot;plaintext\&quot;\u003e1 row in set (0.00 sec)    \u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u0026#x000A;\u003ccopy-code\u003e\u003c/copy-code\u003e\u0026#x000A;\u003c/div\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;241:1-241:121\&quot; dir=\&quot;auto\&quot;\u003eNOT OK Finally, Test 4_2 is the closest case to our production - indexer is being terminated without reporting any error\u003c/p\u003e\u0026#x000A;\u003cp data-sourcepos=\&quot;244:1-244:76\&quot; dir=\&quot;auto\&quot;\u003eCahngelog: fixed xml pipe error from tail chunk got passed as valid document\u003c/p\u003e&quot;,&quot;initialDescriptionText&quot;:&quot;Hello    \n    \n**Problem description**    \n    \nWe use the following command      \n    \n```    \nxmlpipe_command = someScriptProducingXml || kill $PPID    \n```    \n    \nSometimes, depending on data, the indexer fails without reporting an error, and because of that we had many problems with indexing and spent a lot of time figuring out what is wrong    \n    \n**Reproducing the problem**    \n    \nWe&#39;ve prepared the following test case ([materials attached](/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz))    \n    \n\u003cdetails\u003e    \n\t\u003csummary\u003exmlpipe2 source list\u003c/summary\u003e    \n    \n    \n\tsource test_1_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_good    \n\t}    \n    \n\tsource test_1_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_good || kill $PPID    \n\t}    \n    \n\tsource test_2_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_bad    \n\t}    \n    \n\tsource test_2_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_bad || kill $PPID    \n\t}    \n    \n\tsource test_3_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 779    \n\t}    \n    \n\tsource test_3_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 779 || kill $PPID    \n\t}    \n    \n\tsource test_4_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 778_779_780    \n\t}    \n    \n\tsource test_4_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 778_779_780 || kill $PPID    \n\t}    \n    \n    \n\u003c/details\u003e    \n    \nTests `*_1` and `*_2` has the same XML, but    \neach test with number `*_1` has     \n    \n``` \nmlpipe_command = cat XML`    \n    \nand  test with number `*_2` has     \n    \n``` \nmlpipe_command = cat XML  || kill $PPID`       \n    \n     \n**Description of test cases**    \n    \n_Please note, incorrect behavior starts at Test 4_1_    \n    \n\u003cdetails\u003e    \n   \u003csummary\u003eIndexer output\u003c/summary\u003e    \n    \n        [julia@dev01 xml]$ for testNum in {1..4}; do for opt in {1..2}; do echo \&quot;----- TEST ${testNum}_${opt} -----\&quot;; sudo indexer --config sphinx.conf test_${testNum}_${opt}; done; done    \n\t----- TEST 1_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_1_1&#39;...    \n\tcollected 1 docs, 0.0 MB    \n\tcreating lookup: 0.0 Kdocs, 100.0% done    \n\tcreating histograms: 0.0 Kdocs, 100.0% done    \n\tsorted 0.0 Mhits, 100.0% done    \n\ttotal 1 docs, 3 bytes    \n\ttotal 0.109 sec, 27 bytes/sec, 9.12 docs/sec    \n\ttotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 1_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_1_2&#39;...    \n\tcollected 1 docs, 0.0 MB    \n\tcreating lookup: 0.0 Kdocs, 100.0% done    \n\tcreating histograms: 0.0 Kdocs, 100.0% done    \n\tsorted 0.0 Mhits, 100.0% done    \n\ttotal 1 docs, 3 bytes    \n\ttotal 0.109 sec, 27 bytes/sec, 9.09 docs/sec    \n\ttotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 2_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_2_1&#39;...    \n\tERROR: index &#39;test_2_1&#39;: source &#39;test_2_1_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 2_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_2_2&#39;...    \n\tERROR: index &#39;test_2_2&#39;: source &#39;test_2_2_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 3_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_3_1&#39;...    \n\tERROR: index &#39;test_3_1&#39;: source &#39;test_3_1_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.011 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 3_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_3_2&#39;...    \n\tERROR: index &#39;test_3_2&#39;: source &#39;test_3_2_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.012 sec, 0 bytes/sec, 0.00 docs/sec    \n\tTerminated    \n\t----- TEST 4_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_4_1&#39;...    \n\tcollected 342 docs, 1.2 MB    \n\tcreating lookup: 0.3 Kdocs, 100.0% done    \n\tcreating histograms: 0.3 Kdocs, 100.0% done    \n\tsorted 0.1 Mhits, 100.0% done    \n\ttotal 342 docs, 1227138 bytes    \n\ttotal 0.233 sec, 5265534 bytes/sec, 1467.48 docs/sec    \n\ttotal 4 reads, 0.000 sec, 293.0 kb/call avg, 0.1 msec/call avg    \n\ttotal 15 writes, 0.001 sec, 132.0 kb/call avg, 0.1 msec/call avg    \n\t----- TEST 4_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_4_2&#39;...    \n\tTerminated    \n\t[julia@dev01 xml]$    \n\u003c/details\u003e    \n    \n    \nOK - Tests 1_1 and 1_2 demonstrate, that we&#39;re not doing anything illegal and commands with or without `|| kill $PPID` produce valid indexes without failing indexer    \n    \nOK - Tests 2_1 and 2_2 provide simple incorrect XML and we can see an error reported     \n    \nOK - Tests 3_1 and 3_2 contain a _part of_ our production XML. XML includes \&quot;Unescaped \u0026 or nonterminated character/entity reference\&quot; in line 6900, document id 65212023329329888. Here we can also see an error message reported    \n    \nNOT OK - Test 4_1 has the same incorrect document, as Tests 3_1  and 3_2, plus some other documents. But there is no error reported - the index is successfully built. Is it really?    \n    \nIndexer says     \n    \ncollected 342 docs, 1.2 MB    \n    \nBut we have 801 docs in the file    \n    \n```    \n[julia@dev01 xml]$ cat 778_779_780 | grep &#39;sphinx:document id&#39; | wc -l    \n801    \n```    \n    \nI assume, indexing stops after stepping on an incorrect document.    \n    \n```    \nmysql\u003e select count(*) from test_4_1;    \n+----------+    \n| count(*) |    \n+----------+    \n|      342 |    \n+----------+    \nmysql\u003e select count(*) from test_4_1 where  id IN (65212023329329888, 14335444326029372, 910882893018043);    \n+----------+    \n| count(*) |    \n+----------+    \n|        0 |    \n+----------+    \n1 row in set (0.00 sec)    \n```    \n    \nNOT OK Finally, Test 4_2 is the closest case to our production - indexer is being terminated without reporting any error \n \n \nCahngelog: fixed xml pipe error from tail chunk got passed as valid document&quot;,&quot;initialTaskCompletionStatus&quot;:{&quot;count&quot;:0,&quot;completed_count&quot;:0},&quot;canCreateIncident&quot;:true,&quot;fullPath&quot;:&quot;effyis/effyis&quot;,&quot;iid&quot;:287,&quot;issuableId&quot;:79881200,&quot;issueType&quot;:&quot;issue&quot;,&quot;isHidden&quot;:false,&quot;zoomMeetingUrl&quot;:null,&quot;authorId&quot;:2097044,&quot;authorName&quot;:&quot;Julia Emelyanova&quot;,&quot;authorUsername&quot;:&quot;julia_ivinco&quot;,&quot;authorWebUrl&quot;:&quot;/julia_ivinco&quot;,&quot;createdAt&quot;:&quot;2021-02-26T13:54:47+00:00&quot;,&quot;isFirstContribution&quot;:false,&quot;serviceDeskReplyTo&quot;:null,&quot;registerPath&quot;:&quot;/users/sign_up?redirect_to_referer=yes&quot;,&quot;signInPath&quot;:&quot;/users/sign_in?redirect_to_referer=yes&quot;,&quot;publishedIncidentUrl&quot;:null,&quot;slaFeatureAvailable&quot;:&quot;false&quot;,&quot;uploadMetricsFeatureAvailable&quot;:&quot;false&quot;,&quot;projectId&quot;:3858611,&quot;projectPath&quot;:&quot;effyis&quot;,&quot;projectNamespace&quot;:&quot;effyis&quot;,&quot;updatedAt&quot;:&quot;2021-05-05T04:54:29+00:00&quot;,&quot;updatedBy&quot;:{&quot;name&quot;:&quot;manticore_bot&quot;,&quot;path&quot;:&quot;/manticore_bot&quot;},&quot;canAdmin&quot;:true,&quot;hasIssueWeightsFeature&quot;:false,&quot;hasIterationsFeature&quot;:false,&quot;canAdminRelation&quot;:true}" id="js-issuable-app">
<div class="title-container">
<h1 class="title page-title gl-font-size-h-display">Inconsistent indexer behavior when parsing invalid xml</h1>
</div>
<div class="description">
<div class="md"><p data-sourcepos="1:1-1:9" dir="auto">Hello</p>&#x000A;<p data-sourcepos="3:1-3:27" dir="auto"><strong>Problem description</strong></p>&#x000A;<p data-sourcepos="5:1-5:34" dir="auto">We use the following command</p>&#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="7:1-9:7" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">xmlpipe_command = someScriptProducingXml || kill $PPID    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;<p data-sourcepos="11:1-11:185" dir="auto">Sometimes, depending on data, the indexer fails without reporting an error, and because of that we had many problems with indexing and spent a lot of time figuring out what is wrong</p>&#x000A;<p data-sourcepos="13:1-13:31" dir="auto"><strong>Reproducing the problem</strong></p>&#x000A;<p data-sourcepos="15:1-15:167" dir="auto">We've prepared the following test case (<a href="/effyis/effyis/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz" data-canonical-src="/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz" data-link="true" class="gfm">materials attached</a>)</p>&#x000A;<details>    &#x000A;	<summary>xmlpipe2 source list</summary>    &#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="21:2-69:4" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">source test_1_1_source    </span>&#x000A;<span id="LC2" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC3" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC4" class="line" lang="plaintext">	xmlpipe_command = cat simple_good    </span>&#x000A;<span id="LC5" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC6" class="line" lang="plaintext"></span>&#x000A;<span id="LC7" class="line" lang="plaintext">source test_1_2_source    </span>&#x000A;<span id="LC8" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC9" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC10" class="line" lang="plaintext">	xmlpipe_command = cat simple_good || kill $PPID    </span>&#x000A;<span id="LC11" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC12" class="line" lang="plaintext"></span>&#x000A;<span id="LC13" class="line" lang="plaintext">source test_2_1_source    </span>&#x000A;<span id="LC14" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC15" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC16" class="line" lang="plaintext">	xmlpipe_command = cat simple_bad    </span>&#x000A;<span id="LC17" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC18" class="line" lang="plaintext"></span>&#x000A;<span id="LC19" class="line" lang="plaintext">source test_2_2_source    </span>&#x000A;<span id="LC20" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC21" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC22" class="line" lang="plaintext">	xmlpipe_command = cat simple_bad || kill $PPID    </span>&#x000A;<span id="LC23" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC24" class="line" lang="plaintext"></span>&#x000A;<span id="LC25" class="line" lang="plaintext">source test_3_1_source    </span>&#x000A;<span id="LC26" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC27" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC28" class="line" lang="plaintext">	xmlpipe_command = cat 779    </span>&#x000A;<span id="LC29" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC30" class="line" lang="plaintext"></span>&#x000A;<span id="LC31" class="line" lang="plaintext">source test_3_2_source    </span>&#x000A;<span id="LC32" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC33" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC34" class="line" lang="plaintext">	xmlpipe_command = cat 779 || kill $PPID    </span>&#x000A;<span id="LC35" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC36" class="line" lang="plaintext"></span>&#x000A;<span id="LC37" class="line" lang="plaintext">source test_4_1_source    </span>&#x000A;<span id="LC38" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC39" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC40" class="line" lang="plaintext">	xmlpipe_command = cat 778_779_780    </span>&#x000A;<span id="LC41" class="line" lang="plaintext">}    </span>&#x000A;<span id="LC42" class="line" lang="plaintext"></span>&#x000A;<span id="LC43" class="line" lang="plaintext">source test_4_2_source    </span>&#x000A;<span id="LC44" class="line" lang="plaintext">{    </span>&#x000A;<span id="LC45" class="line" lang="plaintext">	type = xmlpipe2    </span>&#x000A;<span id="LC46" class="line" lang="plaintext">	xmlpipe_command = cat 778_779_780 || kill $PPID    </span>&#x000A;<span id="LC47" class="line" lang="plaintext">}    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;</details>    &#x000A;<p data-sourcepos="72:1-73:36" dir="auto">Tests <code>*_1</code> and <code>*_2</code> has the same XML, but<br>&#x000A;each test with number <code>*_1</code> has</p>&#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="75:1-80:4" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">mlpipe_command = cat XML`    </span>&#x000A;<span id="LC2" class="line" lang="plaintext">    </span>&#x000A;<span id="LC3" class="line" lang="plaintext">and  test with number `*_2` has     </span>&#x000A;<span id="LC4" class="line" lang="plaintext">    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;<p data-sourcepos="81:1-81:50" dir="auto">mlpipe_command = cat XML  || kill $PPID`   </p>&#x000A;<p data-sourcepos="83:1-84:33" dir="auto"> <br>&#x000A;<strong>Description of test cases</strong></p>&#x000A;<p data-sourcepos="86:1-86:56" dir="auto"><em>Please note, incorrect behavior starts at Test 4_1</em></p>&#x000A;<details>    &#x000A;   <summary>Indexer output</summary>    &#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="91:5-200:23" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">    [julia@dev01 xml]$ for testNum in {1..4}; do for opt in {1..2}; do echo "----- TEST ${testNum}_${opt} -----"; sudo indexer --config sphinx.conf test_${testNum}_${opt}; done; done    </span>&#x000A;<span id="LC2" class="line" lang="plaintext">----- TEST 1_1 -----    </span>&#x000A;<span id="LC3" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC4" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC5" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC6" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC7" class="line" lang="plaintext"></span>&#x000A;<span id="LC8" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC9" class="line" lang="plaintext">indexing index 'test_1_1'...    </span>&#x000A;<span id="LC10" class="line" lang="plaintext">collected 1 docs, 0.0 MB    </span>&#x000A;<span id="LC11" class="line" lang="plaintext">creating lookup: 0.0 Kdocs, 100.0% done    </span>&#x000A;<span id="LC12" class="line" lang="plaintext">creating histograms: 0.0 Kdocs, 100.0% done    </span>&#x000A;<span id="LC13" class="line" lang="plaintext">sorted 0.0 Mhits, 100.0% done    </span>&#x000A;<span id="LC14" class="line" lang="plaintext">total 1 docs, 3 bytes    </span>&#x000A;<span id="LC15" class="line" lang="plaintext">total 0.109 sec, 27 bytes/sec, 9.12 docs/sec    </span>&#x000A;<span id="LC16" class="line" lang="plaintext">total 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC17" class="line" lang="plaintext">total 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC18" class="line" lang="plaintext">----- TEST 1_2 -----    </span>&#x000A;<span id="LC19" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC20" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC21" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC22" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC23" class="line" lang="plaintext"></span>&#x000A;<span id="LC24" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC25" class="line" lang="plaintext">indexing index 'test_1_2'...    </span>&#x000A;<span id="LC26" class="line" lang="plaintext">collected 1 docs, 0.0 MB    </span>&#x000A;<span id="LC27" class="line" lang="plaintext">creating lookup: 0.0 Kdocs, 100.0% done    </span>&#x000A;<span id="LC28" class="line" lang="plaintext">creating histograms: 0.0 Kdocs, 100.0% done    </span>&#x000A;<span id="LC29" class="line" lang="plaintext">sorted 0.0 Mhits, 100.0% done    </span>&#x000A;<span id="LC30" class="line" lang="plaintext">total 1 docs, 3 bytes    </span>&#x000A;<span id="LC31" class="line" lang="plaintext">total 0.109 sec, 27 bytes/sec, 9.09 docs/sec    </span>&#x000A;<span id="LC32" class="line" lang="plaintext">total 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC33" class="line" lang="plaintext">total 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC34" class="line" lang="plaintext">----- TEST 2_1 -----    </span>&#x000A;<span id="LC35" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC36" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC37" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC38" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC39" class="line" lang="plaintext"></span>&#x000A;<span id="LC40" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC41" class="line" lang="plaintext">indexing index 'test_2_1'...    </span>&#x000A;<span id="LC42" class="line" lang="plaintext">ERROR: index 'test_2_1': source 'test_2_1_source': XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    </span>&#x000A;<span id="LC43" class="line" lang="plaintext">total 0 docs, 0 bytes    </span>&#x000A;<span id="LC44" class="line" lang="plaintext">total 0.001 sec, 0 bytes/sec, 0.00 docs/sec    </span>&#x000A;<span id="LC45" class="line" lang="plaintext">total 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC46" class="line" lang="plaintext">total 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC47" class="line" lang="plaintext">----- TEST 2_2 -----    </span>&#x000A;<span id="LC48" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC49" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC50" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC51" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC52" class="line" lang="plaintext"></span>&#x000A;<span id="LC53" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC54" class="line" lang="plaintext">indexing index 'test_2_2'...    </span>&#x000A;<span id="LC55" class="line" lang="plaintext">ERROR: index 'test_2_2': source 'test_2_2_source': XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    </span>&#x000A;<span id="LC56" class="line" lang="plaintext">total 0 docs, 0 bytes    </span>&#x000A;<span id="LC57" class="line" lang="plaintext">total 0.001 sec, 0 bytes/sec, 0.00 docs/sec    </span>&#x000A;<span id="LC58" class="line" lang="plaintext">total 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC59" class="line" lang="plaintext">total 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC60" class="line" lang="plaintext">----- TEST 3_1 -----    </span>&#x000A;<span id="LC61" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC62" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC63" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC64" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC65" class="line" lang="plaintext"></span>&#x000A;<span id="LC66" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC67" class="line" lang="plaintext">indexing index 'test_3_1'...    </span>&#x000A;<span id="LC68" class="line" lang="plaintext">ERROR: index 'test_3_1': source 'test_3_1_source': XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    </span>&#x000A;<span id="LC69" class="line" lang="plaintext">total 0 docs, 0 bytes    </span>&#x000A;<span id="LC70" class="line" lang="plaintext">total 0.011 sec, 0 bytes/sec, 0.00 docs/sec    </span>&#x000A;<span id="LC71" class="line" lang="plaintext">total 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC72" class="line" lang="plaintext">total 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    </span>&#x000A;<span id="LC73" class="line" lang="plaintext">----- TEST 3_2 -----    </span>&#x000A;<span id="LC74" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC75" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC76" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC77" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC78" class="line" lang="plaintext"></span>&#x000A;<span id="LC79" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC80" class="line" lang="plaintext">indexing index 'test_3_2'...    </span>&#x000A;<span id="LC81" class="line" lang="plaintext">ERROR: index 'test_3_2': source 'test_3_2_source': XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    </span>&#x000A;<span id="LC82" class="line" lang="plaintext">total 0 docs, 0 bytes    </span>&#x000A;<span id="LC83" class="line" lang="plaintext">total 0.012 sec, 0 bytes/sec, 0.00 docs/sec    </span>&#x000A;<span id="LC84" class="line" lang="plaintext">Terminated    </span>&#x000A;<span id="LC85" class="line" lang="plaintext">----- TEST 4_1 -----    </span>&#x000A;<span id="LC86" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC87" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC88" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC89" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC90" class="line" lang="plaintext"></span>&#x000A;<span id="LC91" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC92" class="line" lang="plaintext">indexing index 'test_4_1'...    </span>&#x000A;<span id="LC93" class="line" lang="plaintext">collected 342 docs, 1.2 MB    </span>&#x000A;<span id="LC94" class="line" lang="plaintext">creating lookup: 0.3 Kdocs, 100.0% done    </span>&#x000A;<span id="LC95" class="line" lang="plaintext">creating histograms: 0.3 Kdocs, 100.0% done    </span>&#x000A;<span id="LC96" class="line" lang="plaintext">sorted 0.1 Mhits, 100.0% done    </span>&#x000A;<span id="LC97" class="line" lang="plaintext">total 342 docs, 1227138 bytes    </span>&#x000A;<span id="LC98" class="line" lang="plaintext">total 0.233 sec, 5265534 bytes/sec, 1467.48 docs/sec    </span>&#x000A;<span id="LC99" class="line" lang="plaintext">total 4 reads, 0.000 sec, 293.0 kb/call avg, 0.1 msec/call avg    </span>&#x000A;<span id="LC100" class="line" lang="plaintext">total 15 writes, 0.001 sec, 132.0 kb/call avg, 0.1 msec/call avg    </span>&#x000A;<span id="LC101" class="line" lang="plaintext">----- TEST 4_2 -----    </span>&#x000A;<span id="LC102" class="line" lang="plaintext">Manticore 3.5.5 29d2fad@210212 release    </span>&#x000A;<span id="LC103" class="line" lang="plaintext">Copyright (c) 2001-2016, Andrew Aksyonoff    </span>&#x000A;<span id="LC104" class="line" lang="plaintext">Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    </span>&#x000A;<span id="LC105" class="line" lang="plaintext">Copyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    </span>&#x000A;<span id="LC106" class="line" lang="plaintext"></span>&#x000A;<span id="LC107" class="line" lang="plaintext">using config file 'sphinx.conf'...    </span>&#x000A;<span id="LC108" class="line" lang="plaintext">indexing index 'test_4_2'...    </span>&#x000A;<span id="LC109" class="line" lang="plaintext">Terminated    </span>&#x000A;<span id="LC110" class="line" lang="plaintext">[julia@dev01 xml]$    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;</details>    &#x000A;<p data-sourcepos="204:1-204:169" dir="auto">OK - Tests 1_1 and 1_2 demonstrate, that we're not doing anything illegal and commands with or without <code>|| kill $PPID</code> produce valid indexes without failing indexer</p>&#x000A;<p data-sourcepos="206:1-206:91" dir="auto">OK - Tests 2_1 and 2_2 provide simple incorrect XML and we can see an error reported </p>&#x000A;<p data-sourcepos="208:1-208:231" dir="auto">OK - Tests 3_1 and 3_2 contain a <em>part of</em> our production XML. XML includes "Unescaped &amp; or nonterminated character/entity reference" in line 6900, document id 65212023329329888. Here we can also see an error message reported</p>&#x000A;<p data-sourcepos="210:1-210:186" dir="auto">NOT OK - Test 4_1 has the same incorrect document, as Tests 3_1  and 3_2, plus some other documents. But there is no error reported - the index is successfully built. Is it really?</p>&#x000A;<p data-sourcepos="212:1-212:17" dir="auto">Indexer says</p>&#x000A;<p data-sourcepos="214:1-214:30" dir="auto">collected 342 docs, 1.2 MB</p>&#x000A;<p data-sourcepos="216:1-216:36" dir="auto">But we have 801 docs in the file</p>&#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="218:1-221:7" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">[julia@dev01 xml]$ cat 778_779_780 | grep 'sphinx:document id' | wc -l    </span>&#x000A;<span id="LC2" class="line" lang="plaintext">801    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;<p data-sourcepos="223:1-223:69" dir="auto">I assume, indexing stops after stepping on an incorrect document.</p>&#x000A;<div class="gl-relative markdown-code-block js-markdown-code">&#x000A;<pre data-sourcepos="225:1-239:7" class="code highlight js-syntax-highlight language-plaintext" lang="plaintext" v-pre="true"><code><span id="LC1" class="line" lang="plaintext">mysql&gt; select count(*) from test_4_1;    </span>&#x000A;<span id="LC2" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC3" class="line" lang="plaintext">| count(*) |    </span>&#x000A;<span id="LC4" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC5" class="line" lang="plaintext">|      342 |    </span>&#x000A;<span id="LC6" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC7" class="line" lang="plaintext">mysql&gt; select count(*) from test_4_1 where  id IN (65212023329329888, 14335444326029372, 910882893018043);    </span>&#x000A;<span id="LC8" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC9" class="line" lang="plaintext">| count(*) |    </span>&#x000A;<span id="LC10" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC11" class="line" lang="plaintext">|        0 |    </span>&#x000A;<span id="LC12" class="line" lang="plaintext">+----------+    </span>&#x000A;<span id="LC13" class="line" lang="plaintext">1 row in set (0.00 sec)    </span></code></pre>&#x000A;<copy-code></copy-code>&#x000A;</div>&#x000A;<p data-sourcepos="241:1-241:121" dir="auto">NOT OK Finally, Test 4_2 is the closest case to our production - indexer is being terminated without reporting any error</p>&#x000A;<p data-sourcepos="244:1-244:76" dir="auto">Cahngelog: fixed xml pipe error from tail chunk got passed as valid document</p></div>
</div>
<small class="edited-text">Edited <time class="js-timeago issue-edited-ago js-issue-edited-ago" title="May 5, 2021 4:54am" datetime="2021-05-05T04:54:29Z" data-toggle="tooltip" data-placement="bottom" data-container="body">May 05, 2021</time> by <a class="author-link gl-hover-text-decoration-underline js-user-link" data-user-id="2801001" data-username="manticore_bot" data-name="manticore_bot" href="/manticore_bot"><span class="">manticore_bot</span></a></small>
</div>
<div class="js-issue-widgets">
<div class="emoji-block emoji-block-sticky">
<div class="row gl-m-0 gl-justify-content-space-between">
<div class="js-noteable-awards">
<div class="gl-display-flex gl-flex-wrap gl-justify-content-space-between gl-pt-3">
<div data-can-award-emoji="true" data-path="/api/v4/projects/3858611/issues/287/award_emoji" data-show-default-award-emojis="true" id="js-vue-awards-block"></div>

</div>

</div>
<div class="new-branch-col gl-font-size-0 gl-my-2">
<div class="create-mr-dropdown-wrap d-inline-block full-width-mobile js-create-mr" data-can-create-path="/effyis/effyis/-/issues/287/can_create_branch" data-create-branch-path="/effyis/effyis/-/branches?branch_name=287-inconsistent-indexer-behavior-when-parsing-invalid-xml&amp;format=json&amp;issue_iid=287&amp;ref=master" data-create-mr-path="/effyis/effyis/-/merge_requests/new?merge_request%5Bissue_iid%5D=287&amp;merge_request%5Bsource_branch%5D=287-inconsistent-indexer-behavior-when-parsing-invalid-xml&amp;merge_request%5Btarget_branch%5D=master" data-is-confidential="false" data-project-id="3858611" data-project-path="effyis/effyis" data-refs-path="/effyis/effyis/refs?search=">
<div class="btn-group unavailable">
<button disabled="disabled" type="button" class="gl-button btn btn-md btn-default "><span class="gl-button-text">
<span class="gl-spinner-container js-create-mr-spinner gl-button-icon gl-display-none" role="status"><span aria-label="Loading" class="gl-spinner gl-spinner-sm gl-spinner-dark gl-vertical-align-text-bottom!"></span></span>
<span class="text">
Checking branch availability…
</span>

</span>

</button></div>
<div class="btn-group available hidden">
<button class="gl-button btn btn-md btn-confirm js-create-merge-request" data-action="create-branch" type="button"><span class="gl-button-text">
<span class="gl-spinner-container js-create-mr-spinner js-spinner gl-display-none" role="status"><span aria-label="Loading" class="gl-spinner gl-spinner-sm gl-spinner-dark gl-vertical-align-text-bottom!"></span></span>
Create branch

</span>

</button><button class="gl-button btn btn-icon btn-md btn-confirm js-dropdown-toggle dropdown-toggle create-merge-request-dropdown-toggle" data-dropdown-trigger="#create-merge-request-dropdown" data-display="static" type="button"><svg class="s16 gl-icon gl-button-icon " data-testid="chevron-down-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-down"></use></svg>

</button>
<div class="droplab-dropdown">
<ul class="create-merge-request-dropdown-menu dropdown-menu dropdown-menu-right gl-show-field-errors" data-dropdown id="create-merge-request-dropdown">
<li class="droplab-item-selected" data-text="Create branch" data-value="create-branch" role="button">
<div class="menu-item">
<svg class="s16 icon" data-testid="check-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#check"></use></svg>
Create branch
</div>
</li>
<li class="divider droplab-item-ignore"></li>
<li class="droplab-item-ignore gl-ml-3 gl-mr-3 gl-mt-5">
<div class="form-group">
<label for="new-branch-name">
Branch name
</label>
<input class="js-branch-name form-control gl-form-input" id="new-branch-name" placeholder="287-inconsistent-indexer-behavior-when-parsing-invalid-xml" type="text" value="287-inconsistent-indexer-behavior-when-parsing-invalid-xml">
<span class="js-branch-message form-text"></span>
</div>
<div class="form-group">
<label for="source-name">
Source (branch or tag)
</label>
<input class="js-ref ref form-control gl-form-input" data-value="master" id="source-name" placeholder="master" type="text" value="master">
<span class="js-ref-message form-text"></span>
</div>
<div class="form-group">
<button class="gl-button btn btn-md btn-confirm js-create-target" data-action="create-mr" type="button"><span class="gl-button-text">
Create merge request

</span>

</button></div>
</li>
</ul>
</div>
</div>
</div>

</div>
</div>
</div>

</div>
</div>
<div class="js-issue-widgets">

<div class="js-design-management" data-issue-iid="287" data-issue-path="/effyis/effyis/-/issues/287" data-new-comment-template-path="/-/profile/comment_templates" data-project-path="effyis/effyis" data-register-path="/users/sign_up?redirect_to_referer=yes" data-sign-in-path="/users/sign_in?redirect_to_referer=yes"></div>

<div class="js-work-item-links-root" data-full-path="effyis/effyis" data-issuable-id="79881200" data-issuable-iid="287" data-register-path="/users/sign_up?redirect_to_referer=yes" data-sign-in-path="/users/sign_in?redirect_to_referer=yes" data-wi-full-path="effyis/effyis" data-wi-has-issuable-health-status-feature="false" data-wi-has-issue-weights-feature="false" data-wi-has-iterations-feature="false" data-wi-has-okrs-feature="false" data-wi-issues-list-path="/effyis/effyis/-/issues" data-wi-new-comment-template-path="/-/profile/comment_templates" data-wi-register-path="/users/sign_up?redirect_to_referer=yes" data-wi-report-abuse-path="/-/abuse_reports/add_category" data-wi-sign-in-path="/users/sign_in?redirect_to_referer=yes"></div>


<div class="js-related-issues-root" data-can-add-related-issues="true" data-endpoint="/effyis/effyis/-/issues/287/links" data-full-path="effyis/effyis" data-has-issue-weights-feature="false" data-has-iterations-feature="false" data-help-path="/help/user/project/issues/related_issues" data-issuable-type="issue" data-report-abuse-path="/-/abuse_reports/add_category" data-show-categorized-issues="false"></div>

<div data-endpoint="/api/v4/projects/3858611/issues/287/related_merge_requests" data-has-closing-merge-request="false" data-project-namespace="effyis" data-project-path="effyis" id="js-related-merge-requests"></div>
<div data-url="/effyis/effyis/-/issues/287/related_branches" id="related-branches">
</div>
</div>
<div class="js-issue-widgets">
<section class="issuable-discussion js-vue-notes-event">
<div data-can-add-timeline-events="true" data-current-user-data="{&quot;id&quot;:2801001,&quot;username&quot;:&quot;manticore_bot&quot;,&quot;name&quot;:&quot;manticore_bot&quot;,&quot;state&quot;:&quot;active&quot;,&quot;locked&quot;:false,&quot;avatar_url&quot;:&quot;https://secure.gravatar.com/avatar/e5d8eaba32898b9b901210d0d5a8c383?s=80\u0026d=identicon&quot;,&quot;web_url&quot;:&quot;https://gitlab.com/manticore_bot&quot;,&quot;show_status&quot;:false,&quot;path&quot;:&quot;/manticore_bot&quot;,&quot;user_preference&quot;:{&quot;issue_notes_filter&quot;:0,&quot;merge_request_notes_filter&quot;:0,&quot;notes_filters&quot;:{&quot;Show all activity&quot;:0,&quot;Show comments only&quot;:1,&quot;Show history only&quot;:2},&quot;default_notes_filter&quot;:0,&quot;epic_notes_filter&quot;:0}}" data-new-comment-template-path="/-/profile/comment_templates" data-noteable-data="{&quot;id&quot;:79881200,&quot;iid&quot;:287,&quot;description&quot;:&quot;Hello    \n    \n**Problem description**    \n    \nWe use the following command      \n    \n```    \nxmlpipe_command = someScriptProducingXml || kill $PPID    \n```    \n    \nSometimes, depending on data, the indexer fails without reporting an error, and because of that we had many problems with indexing and spent a lot of time figuring out what is wrong    \n    \n**Reproducing the problem**    \n    \nWe&#39;ve prepared the following test case ([materials attached](/uploads/2fb6a5af6827facae65444d28770cdac/1620190467_1614594179_1614584147_1614347742_example.tar.gz))    \n    \n\u003cdetails\u003e    \n\t\u003csummary\u003exmlpipe2 source list\u003c/summary\u003e    \n    \n    \n\tsource test_1_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_good    \n\t}    \n    \n\tsource test_1_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_good || kill $PPID    \n\t}    \n    \n\tsource test_2_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_bad    \n\t}    \n    \n\tsource test_2_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat simple_bad || kill $PPID    \n\t}    \n    \n\tsource test_3_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 779    \n\t}    \n    \n\tsource test_3_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 779 || kill $PPID    \n\t}    \n    \n\tsource test_4_1_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 778_779_780    \n\t}    \n    \n\tsource test_4_2_source    \n\t{    \n\t\ttype = xmlpipe2    \n\t\txmlpipe_command = cat 778_779_780 || kill $PPID    \n\t}    \n    \n    \n\u003c/details\u003e    \n    \nTests `*_1` and `*_2` has the same XML, but    \neach test with number `*_1` has     \n    \n``` \nmlpipe_command = cat XML`    \n    \nand  test with number `*_2` has     \n    \n``` \nmlpipe_command = cat XML  || kill $PPID`       \n    \n     \n**Description of test cases**    \n    \n_Please note, incorrect behavior starts at Test 4_1_    \n    \n\u003cdetails\u003e    \n   \u003csummary\u003eIndexer output\u003c/summary\u003e    \n    \n        [julia@dev01 xml]$ for testNum in {1..4}; do for opt in {1..2}; do echo \&quot;----- TEST ${testNum}_${opt} -----\&quot;; sudo indexer --config sphinx.conf test_${testNum}_${opt}; done; done    \n\t----- TEST 1_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_1_1&#39;...    \n\tcollected 1 docs, 0.0 MB    \n\tcreating lookup: 0.0 Kdocs, 100.0% done    \n\tcreating histograms: 0.0 Kdocs, 100.0% done    \n\tsorted 0.0 Mhits, 100.0% done    \n\ttotal 1 docs, 3 bytes    \n\ttotal 0.109 sec, 27 bytes/sec, 9.12 docs/sec    \n\ttotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 1_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_1_2&#39;...    \n\tcollected 1 docs, 0.0 MB    \n\tcreating lookup: 0.0 Kdocs, 100.0% done    \n\tcreating histograms: 0.0 Kdocs, 100.0% done    \n\tsorted 0.0 Mhits, 100.0% done    \n\ttotal 1 docs, 3 bytes    \n\ttotal 0.109 sec, 27 bytes/sec, 9.09 docs/sec    \n\ttotal 4 reads, 0.000 sec, 8.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 13 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 2_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_2_1&#39;...    \n\tERROR: index &#39;test_2_1&#39;: source &#39;test_2_1_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 2_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_2_2&#39;...    \n\tERROR: index &#39;test_2_2&#39;: source &#39;test_2_2_source&#39;: XML parse error: not well-formed (invalid token) (line=8, pos=62, docid=0).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.001 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 3_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_3_1&#39;...    \n\tERROR: index &#39;test_3_1&#39;: source &#39;test_3_1_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.011 sec, 0 bytes/sec, 0.00 docs/sec    \n\ttotal 0 reads, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\ttotal 0 writes, 0.000 sec, 0.0 kb/call avg, 0.0 msec/call avg    \n\t----- TEST 3_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_3_2&#39;...    \n\tERROR: index &#39;test_3_2&#39;: source &#39;test_3_2_source&#39;: XML parse error: not well-formed (invalid token) (line=6900, pos=440, docid=8289145513396175).    \n\ttotal 0 docs, 0 bytes    \n\ttotal 0.012 sec, 0 bytes/sec, 0.00 docs/sec    \n\tTerminated    \n\t----- TEST 4_1 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_4_1&#39;...    \n\tcollected 342 docs, 1.2 MB    \n\tcreating lookup: 0.3 Kdocs, 100.0% done    \n\tcreating histograms: 0.3 Kdocs, 100.0% done    \n\tsorted 0.1 Mhits, 100.0% done    \n\ttotal 342 docs, 1227138 bytes    \n\ttotal 0.233 sec, 5265534 bytes/sec, 1467.48 docs/sec    \n\ttotal 4 reads, 0.000 sec, 293.0 kb/call avg, 0.1 msec/call avg    \n\ttotal 15 writes, 0.001 sec, 132.0 kb/call avg, 0.1 msec/call avg    \n\t----- TEST 4_2 -----    \n\tManticore 3.5.5 29d2fad@210212 release    \n\tCopyright (c) 2001-2016, Andrew Aksyonoff    \n\tCopyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)    \n\tCopyright (c) 2017-2021, Manticore Software LTD (https://manticoresearch.com)    \n    \n\tusing config file &#39;sphinx.conf&#39;...    \n\tindexing index &#39;test_4_2&#39;...    \n\tTerminated    \n\t[julia@dev01 xml]$    \n\u003c/details\u003e    \n    \n    \nOK - Tests 1_1 and 1_2 demonstrate, that we&#39;re not doing anything illegal and commands with or without `|| kill $PPID` produce valid indexes without failing indexer    \n    \nOK - Tests 2_1 and 2_2 provide simple incorrect XML and we can see an error reported     \n    \nOK - Tests 3_1 and 3_2 contain a _part of_ our production XML. XML includes \&quot;Unescaped \u0026 or nonterminated character/entity reference\&quot; in line 6900, document id 65212023329329888. Here we can also see an error message reported    \n    \nNOT OK - Test 4_1 has the same incorrect document, as Tests 3_1  and 3_2, plus some other documents. But there is no error reported - the index is successfully built. Is it really?    \n    \nIndexer says     \n    \ncollected 342 docs, 1.2 MB    \n    \nBut we have 801 docs in the file    \n    \n```    \n[julia@dev01 xml]$ cat 778_779_780 | grep &#39;sphinx:document id&#39; | wc -l    \n801    \n```    \n    \nI assume, indexing stops after stepping on an incorrect document.    \n    \n```    \nmysql\u003e select count(*) from test_4_1;    \n+----------+    \n| count(*) |    \n+----------+    \n|      342 |    \n+----------+    \nmysql\u003e select count(*) from test_4_1 where  id IN (65212023329329888, 14335444326029372, 910882893018043);    \n+----------+    \n| count(*) |    \n+----------+    \n|        0 |    \n+----------+    \n1 row in set (0.00 sec)    \n```    \n    \nNOT OK Finally, Test 4_2 is the closest case to our production - indexer is being terminated without reporting any error \n \n \nCahngelog: fixed xml pipe error from tail chunk got passed as valid document&quot;,&quot;title&quot;:&quot;Inconsistent indexer behavior when parsing invalid xml&quot;,&quot;time_estimate&quot;:0,&quot;total_time_spent&quot;:0,&quot;human_time_estimate&quot;:null,&quot;human_total_time_spent&quot;:null,&quot;state&quot;:&quot;closed&quot;,&quot;milestone_id&quot;:null,&quot;updated_by_id&quot;:1458921,&quot;created_at&quot;:&quot;2021-02-26T13:54:47Z&quot;,&quot;updated_at&quot;:&quot;2022-01-25T06:27:41Z&quot;,&quot;milestone&quot;:null,&quot;labels&quot;:[{&quot;id&quot;:18060568,&quot;title&quot;:&quot;bug&quot;,&quot;color&quot;:&quot;#ee0701&quot;,&quot;description&quot;:null,&quot;group_id&quot;:null,&quot;project_id&quot;:3858611,&quot;template&quot;:false,&quot;text_color&quot;:&quot;#FFFFFF&quot;,&quot;created_at&quot;:&quot;2021-01-28T11:24:42.724Z&quot;,&quot;updated_at&quot;:&quot;2021-01-28T11:24:42.724Z&quot;},{&quot;id&quot;:23510788,&quot;title&quot;:&quot;reviewed by Ivinco&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;description&quot;:&quot;reviewed by Ivinco&quot;,&quot;group_id&quot;:null,&quot;project_id&quot;:3858611,&quot;template&quot;:false,&quot;text_color&quot;:&quot;#FFFFFF&quot;,&quot;created_at&quot;:&quot;2022-01-25T06:21:20.605Z&quot;,&quot;updated_at&quot;:&quot;2022-01-25T06:21:44.704Z&quot;}],&quot;lock_version&quot;:10,&quot;author_id&quot;:2097044,&quot;confidential&quot;:false,&quot;discussion_locked&quot;:null,&quot;assignees&quot;:[],&quot;due_date&quot;:null,&quot;project_id&quot;:3858611,&quot;moved_to_id&quot;:null,&quot;duplicated_to_id&quot;:null,&quot;web_url&quot;:&quot;/effyis/effyis/-/issues/287&quot;,&quot;current_user&quot;:{&quot;can_create_note&quot;:true,&quot;can_create_confidential_note&quot;:true,&quot;can_update&quot;:true,&quot;can_set_issue_metadata&quot;:true,&quot;can_award_emoji&quot;:true},&quot;create_note_path&quot;:&quot;/effyis/effyis/notes?target_id=79881200\u0026target_type=issue&quot;,&quot;preview_note_path&quot;:&quot;/effyis/effyis/preview_markdown?target_id=287\u0026target_type=Issue&quot;,&quot;is_project_archived&quot;:false,&quot;issue_email_participants&quot;:[],&quot;type&quot;:&quot;ISSUE&quot;,&quot;blocked&quot;:false,&quot;blocked_by_issues&quot;:[]}" data-noteable-type="Issue" data-notes-data="{&quot;noteableType&quot;:&quot;issue&quot;,&quot;noteableId&quot;:79881200,&quot;projectId&quot;:3858611,&quot;groupId&quot;:null,&quot;discussionsPath&quot;:&quot;/effyis/effyis/-/issues/287/discussions.json&quot;,&quot;registerPath&quot;:&quot;/users/sign_in?redirect_to_referer=yes#register-pane&quot;,&quot;newSessionPath&quot;:&quot;/users/sign_in?redirect_to_referer=yes&quot;,&quot;markdownDocsPath&quot;:&quot;/help/user/markdown&quot;,&quot;quickActionsDocsPath&quot;:&quot;/help/user/project/quick_actions&quot;,&quot;closePath&quot;:&quot;/effyis/effyis/-/issues/287.json?issue%5Bstate_event%5D=close&quot;,&quot;reopenPath&quot;:&quot;/effyis/effyis/-/issues/287.json?issue%5Bstate_event%5D=reopen&quot;,&quot;notesPath&quot;:&quot;/effyis/effyis/noteable/issue/79881200/notes&quot;,&quot;prerenderedNotesCount&quot;:10,&quot;lastFetchedAt&quot;:1701860196000000,&quot;notesFilter&quot;:0}" data-notes-filter-value="0" data-notes-filters="{&quot;Show all activity&quot;:0,&quot;Show comments only&quot;:1,&quot;Show history only&quot;:2}" data-report-abuse-path="/-/abuse_reports/add_category" data-show-timeline-view-toggle="false" data-target-type="issue" id="js-vue-notes"></div>
</section>

</div>
</div>
<aside aria-label="issue" aria-live="polite" class="right-sidebar js-right-sidebar js-issuable-sidebar right-sidebar-expanded" data-always-show-toggle data-issuable-type="issue" data-signed-in>
<div class="issuable-sidebar">
<div class="issuable-sidebar-header gl-pb-4!">
<button class="gl-button btn btn-md btn-default gutter-toggle float-right js-sidebar-toggle has-tooltip gl-shadow-none! gl-display-block " type="button" aria-label="Toggle sidebar" title="Collapse sidebar" data-container="body" data-placement="left" data-boundary="viewport" type="button"><span class="gl-button-text">
<span class="js-sidebar-toggle-container gl-button-text" data-is-expanded="true"><svg class="s16 js-sidebar-expand hidden" data-testid="chevron-double-lg-left-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-double-lg-left"></use></svg><svg class="s16 js-sidebar-collapse " data-testid="chevron-double-lg-right-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-double-lg-right"></use></svg></span>

</span>

</button><div class="js-sidebar-todo-widget-root" data-id="79881200" data-iid="287" data-project-path="effyis/effyis"></div>
</div>
<form class="issuable-context-form inline-update js-issuable-update" action="/effyis/effyis/-/issues/287.json" accept-charset="UTF-8" data-remote="true" method="post"><div class="block assignee" data-testid="assignee-block-container">
<div class="js-sidebar-assignees-root" data-field="issue" data-max-assignees="1">
<div class="title hide-collapsed">
Assignee
<span class="gl-spinner-container" role="status"><span aria-label="Loading" class="gl-spinner gl-spinner-sm gl-spinner-dark gl-vertical-align-text-bottom!"></span></span>
</div>
</div>
<div class="js-sidebar-assignee-data selectbox hide-collapsed">
<input type="hidden" name="issue[assignee_ids][]" value="0" autocomplete="off" />
<div class="dropdown "><button class="dropdown-menu-toggle js-user-search js-author-search js-multiselect js-save-user-data" type="button" data-first-user="manticore_bot" data-current-user="true" data-iid="287" data-issuable-type="issue" data-project-id="3858611" data-author-id="2097044" data-field-name="issue[assignee_ids][]" data-issue-update="/effyis/effyis/-/issues/287.json" data-ability-name="issue" data-null-user="true" data-display="static" data-multi-select="true" data-dropdown-title="Select assignee" data-dropdown-header="Assignee" data-max-select="1" data-toggle="dropdown"><span class="dropdown-toggle-text ">Select assignee</span><svg class="s16 dropdown-menu-toggle-icon" data-testid="chevron-down-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-down"></use></svg></button><div class="dropdown-menu dropdown-select dropdown-menu-user dropdown-menu-selectable dropdown-menu-author"><div class="dropdown-title gl-display-flex"><span class="gl-ml-auto">Assign to</span><button class="dropdown-title-button dropdown-menu-close gl-ml-auto" aria-label="Close" type="button"><svg class="s16 dropdown-menu-close-icon" data-testid="close-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#close"></use></svg></button></div><div class="dropdown-input"><input type="search" data-testid="dropdown-input-field" class="dropdown-input-field" placeholder="Search users" autocomplete="off" /><svg class="s16 dropdown-input-search" data-testid="search-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#search"></use></svg><svg class="s16 dropdown-input-clear js-dropdown-input-clear" data-testid="close-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#close"></use></svg></div><div data-testid="dropdown-list-content" class="dropdown-content "></div><div class="dropdown-loading"><div class="gl-spinner-container gl-mt-7" role="status"><span aria-label="Loading" class="gl-spinner gl-spinner-md gl-spinner-dark gl-vertical-align-text-bottom!"></span></div></div></div></div>

</div>

</div>
<div class="block js-epics-sidebar-callout promotion-issue-sidebar" data-uid="promote_epics_sidebar_dismissed">
<div class="sidebar-collapsed-icon" data-target=".js-epics-sidebar-callout" data-toggle="dropdown">
<span data-container="body" data-placement="left" data-toggle="tooltip" title="Epic">
<svg class="s16" data-testid="epic-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#epic"></use></svg>
<span>
None
</span>
</span>
</div>
<div class="title hide-collapsed">
Epic
</div>
<div class="dropdown">
<div class="dropdown-menu promotion-issue-sidebar-message">
<div class="dropdown-title gl-display-flex">
<span class="gl-ml-auto">
Epic
</span>
<button aria-label="Close" class="dropdown-title-button dropdown-menu-close gl-ml-auto" type="button">
<svg class="s16 dropdown-menu-close-icon" data-testid="close-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#close"></use></svg>
</button>
</div>
<div>
<p>
Epics let you manage your portfolio of projects more efficiently and with less effort by tracking groups of issues that share a theme, across projects and milestones.
<a class="btn-link" target="_blank" rel="noopener noreferrer" href="https://gitlab.com/help/user/group/epics/index">Read more</a>
</p>
<div class="gl-flex-wrap">
<p>Contact an owner of group effyis to upgrade the plan.</p>

<a class="gl-button btn btn-md btn-default js-close js-close-callout gl-mt-2" href="#"><span class="gl-button-text">
Don&#39;t show me this again
</span>

</a>
</div>
</div>
</div>
</div>
<div class="hide-collapsed">
This feature is locked.
<a class="btn-link" data-toggle="dropdown" data-target=".js-epics-sidebar-callout" data-display="static" href="#">Upgrade plan</a>
</div>
</div>


<div class="js-sidebar-labels-widget-root" data-allow-label-create="true" data-allow-scoped-labels="false" data-can-edit="true" data-iid="287" data-issuable-type="issue" data-labels-fetch-path="/effyis/effyis/-/labels.json?include_ancestor_groups=true" data-labels-manage-path="/effyis/effyis/-/labels" data-project-issues-path="/effyis/effyis/-/issues" data-project-path="effyis/effyis" data-selected-labels="[{&quot;id&quot;:18060568,&quot;title&quot;:&quot;bug&quot;,&quot;color&quot;:&quot;#ee0701&quot;,&quot;description&quot;:null,&quot;group_id&quot;:null,&quot;project_id&quot;:3858611,&quot;template&quot;:false,&quot;text_color&quot;:&quot;#FFFFFF&quot;,&quot;created_at&quot;:&quot;2021-01-28T11:24:42.724Z&quot;,&quot;updated_at&quot;:&quot;2021-01-28T11:24:42.724Z&quot;},{&quot;id&quot;:23510788,&quot;title&quot;:&quot;reviewed by Ivinco&quot;,&quot;color&quot;:&quot;#000000&quot;,&quot;description&quot;:&quot;reviewed by Ivinco&quot;,&quot;group_id&quot;:null,&quot;project_id&quot;:3858611,&quot;template&quot;:false,&quot;text_color&quot;:&quot;#FFFFFF&quot;,&quot;created_at&quot;:&quot;2022-01-25T06:21:20.605Z&quot;,&quot;updated_at&quot;:&quot;2022-01-25T06:21:44.704Z&quot;}]"></div>
<div class="block milestone" data-testid="sidebar-milestones">
<div class="js-sidebar-milestone-widget-root" data-can-edit="true" data-issue-iid="287" data-project-path="effyis/effyis"></div>
</div>
<div class="block gl-collapse-empty" data-testid="iteration-container"></div>
<div class="block js-weight-sidebar-callout promotion-issue-sidebar" data-uid="promote_weight_sidebar_dismissed">
<div class="sidebar-collapsed-icon" data-target=".js-weight-sidebar-callout" data-toggle="dropdown">
<span data-container="body" data-placement="left" data-toggle="tooltip" title="Weight">
<svg class="s16" data-testid="scale-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#scale"></use></svg>
<span>No</span>
</span>
</div>
<div class="title hide-collapsed">
Weight
</div>
<div class="hide-collapsed js-toggle-container promotion-issue-weight-sidebar-message">
This feature is locked.
<a class="btn-link js-toggle-button js-weight-sidebar-callout-btn" href="#">
Learn more
<svg class="s16 js-sidebar-collapse hidden" data-testid="chevron-up-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-up"></use></svg>
<svg class="s16 js-sidebar-expand" data-testid="chevron-down-icon"><use href="/assets/icons-33d285b77c0f9173f577e26a550fb6463b9913e368ebfcdbb54022aff27051db.svg#chevron-down"></use></svg>
</a>
<div class="js-toggle-content" style="display: none">
<div>
<h4>
Weighting your issue
</h4>
<p>
<img class="w-100 box-shadow-default lazy" data-src="/assets/promotions/img-paid-feature-weight-sidebar-fc9e2c924b3d18f097776fd74202e4b2d55bd1dd678737e5c64e61d8ec6fc8a6.png" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" />
</p>
<p>
When you have a lot of issues, it can be hard to get an overview. By adding a weight to your issues, you can get a better idea of the effort, cost, required time, or value of each, and so better manage them.
</p>
<p>
See the other features in the <a href="https://about.gitlab.com/pricing/" target="_blank" class="btn-link tr-issue-weights-bronze-features-cta">Premium plan</a>
</p>
<div>
<p>Contact an owner of group effyis to upgrade the plan.</p>

<a class="gl-button btn btn-md btn-default js-close js-close-callout gl-mt-3 js-close-session tr-issue-weights-not-now-cta" href="#"><span class="gl-button-text">
Not now, thanks!
</span>

</a>
</div>
</div>
</div>
</div>
</div>


<div class="js-sidebar-due-date-widget-root"></div>
<div class="js-sidebar-time-tracking-root block">
<!-- / Fallback while content is loading -->
<div class="title hide-collapsed">
Time tracking
<span class="gl-spinner-container" role="status"><span aria-label="Loading" class="gl-spinner gl-spinner-sm gl-spinner-dark gl-vertical-align-text-bottom!"></span></span>
</div>
</div>
<script id="js-confidential-issue-data" type="application/json">{"is_confidential":false,"is_editable":true}</script>
<div class="js-sidebar-confidential-widget-root"></div>

<div class="js-sidebar-participants-widget-root"></div>
<div class="block">
<div class="js-sidebar-move-issue-block" data-issue-iid="287" data-project-full-path="effyis/effyis"></div>
</div>
</form><script class="js-sidebar-options" type="application/json">{"endpoint":"/effyis/effyis/-/issues/287.json?serializer=sidebar_extras","toggleSubscriptionEndpoint":"/effyis/effyis/-/issues/287/toggle_subscription","moveIssueEndpoint":"/effyis/effyis/-/issues/287/move","projectsAutocompleteEndpoint":"/-/autocomplete/projects?project_id=3858611","editable":"true","currentUser":{"id":2801001,"username":"manticore_bot","name":"manticore_bot","state":"active","locked":false,"avatar_url":"https://secure.gravatar.com/avatar/e5d8eaba32898b9b901210d0d5a8c383?s=80\u0026d=identicon","web_url":"https://gitlab.com/manticore_bot","todo":null,"can_edit":true,"can_move":true,"can_admin_label":true,"can_create_timelogs":true},"rootPath":"/","fullPath":"effyis/effyis","iid":287,"id":79881200,"severity":"unknown","timeTrackingLimitToHours":true,"canCreateTimelogs":true,"createNoteEmail":"incoming+effyis-effyis-3858611-mmsnmd94hewpkuvm2gv62lwo-issue-287@incoming.gitlab.com","issuableType":"issue","weightOptions":["None","Any",0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"weightNoneValue":"None"}</script>
</div>
</aside>



</main>
</div>


</div>
</div>


<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
if ('loading' in HTMLImageElement.prototype) {
  document.querySelectorAll('img.lazy').forEach(img => {
    img.loading = 'lazy';
    let imgUrl = img.dataset.src;
    // Only adding width + height for avatars for now
    if (imgUrl.indexOf('/avatar/') > -1 && imgUrl.indexOf('?') === -1) {
      const targetWidth = img.getAttribute('width') || img.width;
      imgUrl += `?width=${targetWidth}`;
    }
    img.src = imgUrl;
    img.removeAttribute('data-src');
    img.classList.remove('lazy');
    img.classList.add('js-lazy-loaded');
    img.dataset.testid = 'js-lazy-loaded-content';
  });
}

//]]>
</script>
<script nonce="E21l1145DlYnW06i4H8l5Q==">
//<![CDATA[
gl = window.gl || {};
gl.experiments = {};


//]]>
</script>

</body>
</html>

